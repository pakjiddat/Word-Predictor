<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Evaluates performance of n-gram models — ModelEvaluator • wordpredictor</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Evaluates performance of n-gram models — ModelEvaluator"><meta name="description" content="It provides methods for performing extrinsic and intrinsic
evaluation of a n-gram model. It also provides a method for comparing
performance of multiple n-gram models.
Intrinsic evaluation is based on calculation of Perplexity. Extrinsic
evaluation involves determining the percentage of correct next word
predictions."><meta property="og:description" content="It provides methods for performing extrinsic and intrinsic
evaluation of a n-gram model. It also provides a method for comparing
performance of multiple n-gram models.
Intrinsic evaluation is based on calculation of Perplexity. Extrinsic
evaluation involves determining the percentage of correct next word
predictions."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">wordpredictor</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/features.html">Features</a></li>
    <li><a class="dropdown-item" href="../articles/overview.html">Overview</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pakjiddat/word-predictor/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Evaluates performance of n-gram models</h1>
      <small class="dont-index">Source: <a href="https://github.com/pakjiddat/word-predictor/blob/master/R/model-evaluator.R" class="external-link"><code>R/model-evaluator.R</code></a></small>
      <div class="d-none name"><code>ModelEvaluator.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>It provides methods for performing extrinsic and intrinsic
evaluation of a n-gram model. It also provides a method for comparing
performance of multiple n-gram models.</p>
<p>Intrinsic evaluation is based on calculation of Perplexity. Extrinsic
evaluation involves determining the percentage of correct next word
predictions.</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Before performing the intrinsic and extrinsic model evaluation, a validation
file must be first generated. This can be done using the DataSampler class.</p>
<p>Each line in the validation file is evaluated. For intrinsic evaluation
Perplexity for the line is calculated. An overall summary of the Perplexity
calculations is returned. It includes the min, max and mean Perplexity.</p>
<p>For extrinsic evaluation, next word prediction is performed on each line. If
the actual next word is one of the three predicted next words, then the
prediction is considered to be accurate. The extrinsic evaluation returns the
percentage of correct and incorrect predictions.</p>
    </div>
    <div class="section level2">
    <h2 id="super-class">Super class<a class="anchor" aria-label="anchor" href="#super-class"></a></h2>
    <p><code><a href="Base.html">wordpredictor::Base</a></code> -&gt; <code>ModelEvaluator</code></p>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-ModelEvaluator-new"><code>ModelEvaluator$new()</code></a></p></li>
<li><p><a href="#method-ModelEvaluator-compare_performance"><code>ModelEvaluator$compare_performance()</code></a></p></li>
<li><p><a href="#method-ModelEvaluator-plot_stats"><code>ModelEvaluator$plot_stats()</code></a></p></li>
<li><p><a href="#method-ModelEvaluator-evaluate_performance"><code>ModelEvaluator$evaluate_performance()</code></a></p></li>
<li><p><a href="#method-ModelEvaluator-intrinsic_evaluation"><code>ModelEvaluator$intrinsic_evaluation()</code></a></p></li>
<li><p><a href="#method-ModelEvaluator-extrinsic_evaluation"><code>ModelEvaluator$extrinsic_evaluation()</code></a></p></li>
<li><p><a href="#method-ModelEvaluator-clone"><code>ModelEvaluator$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-ModelEvaluator-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>It initializes the current object. It is used to set the
model file name and verbose options.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/ModelEvaluator.html">ModelEvaluator</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>mf <span class="op">=</span> <span class="cn">NULL</span>, ve <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>mf</code></dt>
<dd><p>The model file name.</p></dd>


<dt><code>ve</code></dt>
<dd><p>The level of detail in the information messages.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-ModelEvaluator-compare_performance"></a><div class="section">
<h3 id="method-compare-performance-">Method <code>compare_performance()</code><a class="anchor" aria-label="anchor" href="#method-compare-performance-"></a></h3>
<p>It compares the performance of the models in the given folder.</p>
<p>The performance of the model is compared for the 4 metric which are
time taken, memory used, Perplexity and accuracy. The performance
comparison is displayed on plots.</p>
<p>4 plots are displayed. One for each performance metric. A fifth plot
shows the variation of Perplexity with accuracy. All 5 plots are
plotted on one page.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ModelEvaluator</span><span class="op">$</span><span class="fu">compare_performance</span><span class="op">(</span><span class="va">opts</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>opts</code></dt>
<dd><p>The options for comparing model performance.</p><ul><li><p><strong>save_to</strong>. The graphics device to save the plot to.
NULL implies plot is printed.</p></li>
<li><p><strong>dir</strong>. The directory containing the model file, plot and stats.</p></li>
</ul></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="co"># Start of environment setup code</span></span>
<span><span class="co"># The level of detail in the information messages</span></span>
<span><span class="va">ve</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="co"># The name of the folder that will contain all the files. It will be</span></span>
<span><span class="co"># created in the current directory. NULL implies tempdir will be</span></span>
<span><span class="co"># used.</span></span>
<span><span class="va">fn</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="co"># The required files. They are default files that are part of the</span></span>
<span><span class="co"># package</span></span>
<span><span class="va">rf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"def-model.RDS"</span><span class="op">)</span></span>
<span><span class="co"># An object of class EnvManager is created</span></span>
<span><span class="va">em</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/EnvManager.html">EnvManager</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>ve <span class="op">=</span> <span class="va">ve</span>, rp <span class="op">=</span> <span class="st">"./"</span><span class="op">)</span></span>
<span><span class="co"># The required files are downloaded</span></span>
<span><span class="va">ed</span> <span class="op">&lt;-</span> <span class="va">em</span><span class="op">$</span><span class="fu">setup_env</span><span class="op">(</span><span class="va">rf</span>, <span class="va">fn</span><span class="op">)</span></span>
<span><span class="co"># End of environment setup code</span></span>
<span><span class="co"># ModelEvaluator class object is created</span></span>
<span><span class="va">me</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/ModelEvaluator.html">ModelEvaluator</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>ve <span class="op">=</span> <span class="va">ve</span><span class="op">)</span></span>
<span><span class="co"># The performance evaluation is performed</span></span>
<span><span class="va">me</span><span class="op">$</span><span class="fu">compare_performance</span><span class="op">(</span>opts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"save_to"</span> <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    <span class="st">"dir"</span> <span class="op">=</span> <span class="va">ed</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># The test environment is removed. Comment the below line, so the</span></span>
<span><span class="co"># files generated by the function can be viewed</span></span>
<span><span class="va">em</span><span class="op">$</span><span class="fu">td_env</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-ModelEvaluator-plot_stats"></a><div class="section">
<h3 id="method-plot-stats-">Method <code>plot_stats()</code><a class="anchor" aria-label="anchor" href="#method-plot-stats-"></a></h3>
<p>It plots the given stats on 5 plots. The plots are displayed on a
single page.</p>
<p>The 4 performance metrics which are time taken, memory, Perplexity
and accuracy are plotted against the model name. Another plot
compares Perplexity with accuracy for each model.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ModelEvaluator</span><span class="op">$</span><span class="fu">plot_stats</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>data</code></dt>
<dd><p>The data to plot</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>The ggplot object is returned.</p>
</div>

</div><p></p><hr><a id="method-ModelEvaluator-evaluate_performance"></a><div class="section">
<h3 id="method-evaluate-performance-">Method <code>evaluate_performance()</code><a class="anchor" aria-label="anchor" href="#method-evaluate-performance-"></a></h3>
<p>It performs intrinsic and extrinsic evaluation for the given model
and validation text file. The given number of lines in the validation
file are used in the evaluation</p>
<p>It performs two types of evaluations. One is intrinsic evaluation,
based on Perplexity, the other is extrinsic evaluation based on
accuracy.</p>
<p>It returns the results of evaluation. 4 evaluation metrics are
returned. Perplexity, accuracy, memory and time taken. Memory is the
size of the model object. Time taken is the time needed for
performing both evaluations.</p>
<p>The results of the model evaluation are saved within the model object
and also returned.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ModelEvaluator</span><span class="op">$</span><span class="fu">evaluate_performance</span><span class="op">(</span><span class="va">lc</span>, <span class="va">fn</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>lc</code></dt>
<dd><p>The number of lines of text in the validation file to be
used for the evaluation.</p></dd>


<dt><code>fn</code></dt>
<dd><p>The name of the validation file. If it does not exist, then
the default file validation-clean.txt is checked in the models
folder</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>The performance stats are returned.</p>
</div>
<div class="section">
<h4 id="examples-1">Examples<a class="anchor" aria-label="anchor" href="#examples-1"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="co"># Start of environment setup code</span></span>
<span><span class="co"># The level of detail in the information messages</span></span>
<span><span class="va">ve</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="co"># The name of the folder that will contain all the files. It will be</span></span>
<span><span class="co"># created in the current directory. NULL implies tempdir will be used</span></span>
<span><span class="va">fn</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="co"># The required files. They are default files that are part of the</span></span>
<span><span class="co"># package</span></span>
<span><span class="va">rf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"def-model.RDS"</span>, <span class="st">"validate-clean.txt"</span><span class="op">)</span></span>
<span><span class="co"># An object of class EnvManager is created</span></span>
<span><span class="va">em</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/EnvManager.html">EnvManager</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>ve <span class="op">=</span> <span class="va">ve</span>, rp <span class="op">=</span> <span class="st">"./"</span><span class="op">)</span></span>
<span><span class="co"># The required files are downloaded</span></span>
<span><span class="va">ed</span> <span class="op">&lt;-</span> <span class="va">em</span><span class="op">$</span><span class="fu">setup_env</span><span class="op">(</span><span class="va">rf</span>, <span class="va">fn</span><span class="op">)</span></span>
<span><span class="co"># End of environment setup code</span></span>
<span></span>
<span><span class="co"># The model file name</span></span>
<span><span class="va">mfn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">ed</span>, <span class="st">"/def-model.RDS"</span><span class="op">)</span></span>
<span><span class="co"># The validation file name</span></span>
<span><span class="va">vfn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">ed</span>, <span class="st">"/validate-clean.txt"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># ModelEvaluator class object is created</span></span>
<span><span class="va">me</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/ModelEvaluator.html">ModelEvaluator</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>mf <span class="op">=</span> <span class="va">mfn</span>, ve <span class="op">=</span> <span class="va">ve</span><span class="op">)</span></span>
<span><span class="co"># The performance evaluation is performed</span></span>
<span><span class="va">stats</span> <span class="op">&lt;-</span> <span class="va">me</span><span class="op">$</span><span class="fu">evaluate_performance</span><span class="op">(</span>lc <span class="op">=</span> <span class="fl">20</span>, fn <span class="op">=</span> <span class="va">vfn</span><span class="op">)</span></span>
<span><span class="co"># The evaluation stats are printed</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">stats</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># The test environment is removed. Comment the below line, so the</span></span>
<span><span class="co"># files generated by the function can be viewed</span></span>
<span><span class="va">em</span><span class="op">$</span><span class="fu">td_env</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-ModelEvaluator-intrinsic_evaluation"></a><div class="section">
<h3 id="method-intrinsic-evaluation-">Method <code>intrinsic_evaluation()</code><a class="anchor" aria-label="anchor" href="#method-intrinsic-evaluation-"></a></h3>
<p>Evaluates the model using intrinsic evaluation based on
Perplexity. The given number of sentences are taken from the
validation file. For each sentence, the Perplexity is calculated.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ModelEvaluator</span><span class="op">$</span><span class="fu">intrinsic_evaluation</span><span class="op">(</span><span class="va">lc</span>, <span class="va">fn</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>lc</code></dt>
<dd><p>The number of lines of text in the validation file to be
used for the evaluation.</p></dd>


<dt><code>fn</code></dt>
<dd><p>The name of the validation file. If it does not exist, then
the default file validation-clean.txt is checked in the models
folder</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>The min, max and mean Perplexity score.</p>
</div>
<div class="section">
<h4 id="examples-2">Examples<a class="anchor" aria-label="anchor" href="#examples-2"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="co"># Start of environment setup code</span></span>
<span><span class="co"># The level of detail in the information messages</span></span>
<span><span class="va">ve</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="co"># The name of the folder that will contain all the files. It will be</span></span>
<span><span class="co"># created in the current directory. NULL implies tempdir will be used</span></span>
<span><span class="va">fn</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="co"># The required files. They are default files that are part of the</span></span>
<span><span class="co"># package</span></span>
<span><span class="va">rf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"def-model.RDS"</span>, <span class="st">"validate-clean.txt"</span><span class="op">)</span></span>
<span><span class="co"># An object of class EnvManager is created</span></span>
<span><span class="va">em</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/EnvManager.html">EnvManager</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>ve <span class="op">=</span> <span class="va">ve</span>, rp <span class="op">=</span> <span class="st">"./"</span><span class="op">)</span></span>
<span><span class="co"># The required files are downloaded</span></span>
<span><span class="va">ed</span> <span class="op">&lt;-</span> <span class="va">em</span><span class="op">$</span><span class="fu">setup_env</span><span class="op">(</span><span class="va">rf</span>, <span class="va">fn</span><span class="op">)</span></span>
<span><span class="co"># End of environment setup code</span></span>
<span></span>
<span><span class="co"># The model file name</span></span>
<span><span class="va">mfn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">ed</span>, <span class="st">"/def-model.RDS"</span><span class="op">)</span></span>
<span><span class="co"># The validation file name</span></span>
<span><span class="va">vfn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">ed</span>, <span class="st">"/validate-clean.txt"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># ModelEvaluator class object is created</span></span>
<span><span class="va">me</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/ModelEvaluator.html">ModelEvaluator</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>mf <span class="op">=</span> <span class="va">mfn</span>, ve <span class="op">=</span> <span class="va">ve</span><span class="op">)</span></span>
<span><span class="co"># The intrinsic evaluation is performed</span></span>
<span><span class="va">stats</span> <span class="op">&lt;-</span> <span class="va">me</span><span class="op">$</span><span class="fu">intrinsic_evaluation</span><span class="op">(</span>lc <span class="op">=</span> <span class="fl">20</span>, fn <span class="op">=</span> <span class="va">vfn</span><span class="op">)</span></span>
<span><span class="co"># The evaluation stats are printed</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">stats</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># The test environment is removed. Comment the below line, so the</span></span>
<span><span class="co"># files generated by the function can be viewed</span></span>
<span><span class="va">em</span><span class="op">$</span><span class="fu">td_env</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-ModelEvaluator-extrinsic_evaluation"></a><div class="section">
<h3 id="method-extrinsic-evaluation-">Method <code>extrinsic_evaluation()</code><a class="anchor" aria-label="anchor" href="#method-extrinsic-evaluation-"></a></h3>
<p>Evaluates the model using extrinsic evaluation based on
Accuracy. The given number of sentences are taken from the validation
file.</p>
<p>For each sentence, the model is used to predict the next word.
The accuracy stats are returned. A prediction is considered to be
correct if one of the predicted words matches the actual word.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ModelEvaluator</span><span class="op">$</span><span class="fu">extrinsic_evaluation</span><span class="op">(</span><span class="va">lc</span>, <span class="va">fn</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>lc</code></dt>
<dd><p>The number of lines of text in the validation file to be
used for the evaluation.</p></dd>


<dt><code>fn</code></dt>
<dd><p>The name of the validation file.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p>The number of correct and incorrect predictions.</p>
</div>
<div class="section">
<h4 id="examples-3">Examples<a class="anchor" aria-label="anchor" href="#examples-3"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="co"># Start of environment setup code</span></span>
<span><span class="co"># The level of detail in the information messages</span></span>
<span><span class="va">ve</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="co"># The name of the folder that will contain all the files. It will be</span></span>
<span><span class="co"># created in the current directory. NULL implies tempdir will be used</span></span>
<span><span class="va">fn</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="co"># The required files. They are default files that are part of the</span></span>
<span><span class="co"># package</span></span>
<span><span class="va">rf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"def-model.RDS"</span>, <span class="st">"validate-clean.txt"</span><span class="op">)</span></span>
<span><span class="co"># An object of class EnvManager is created</span></span>
<span><span class="va">em</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/EnvManager.html">EnvManager</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>ve <span class="op">=</span> <span class="va">ve</span>, rp <span class="op">=</span> <span class="st">"./"</span><span class="op">)</span></span>
<span><span class="co"># The required files are downloaded</span></span>
<span><span class="va">ed</span> <span class="op">&lt;-</span> <span class="va">em</span><span class="op">$</span><span class="fu">setup_env</span><span class="op">(</span><span class="va">rf</span>, <span class="va">fn</span><span class="op">)</span></span>
<span><span class="co"># End of environment setup code</span></span>
<span></span>
<span><span class="co"># The model file name</span></span>
<span><span class="va">mfn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">ed</span>, <span class="st">"/def-model.RDS"</span><span class="op">)</span></span>
<span><span class="co"># The validation file name</span></span>
<span><span class="va">vfn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">ed</span>, <span class="st">"/validate-clean.txt"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># ModelEvaluator class object is created</span></span>
<span><span class="va">me</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/ModelEvaluator.html">ModelEvaluator</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>mf <span class="op">=</span> <span class="va">mfn</span>, ve <span class="op">=</span> <span class="va">ve</span><span class="op">)</span></span>
<span><span class="co"># The intrinsic evaluation is performed</span></span>
<span><span class="va">stats</span> <span class="op">&lt;-</span> <span class="va">me</span><span class="op">$</span><span class="fu">extrinsic_evaluation</span><span class="op">(</span>lc <span class="op">=</span> <span class="fl">100</span>, fn <span class="op">=</span> <span class="va">vfn</span><span class="op">)</span></span>
<span><span class="co"># The evaluation stats are printed</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">stats</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># The test environment is removed. Comment the below line, so the</span></span>
<span><span class="co"># files generated by the function can be viewed</span></span>
<span><span class="va">em</span><span class="op">$</span><span class="fu">td_env</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-ModelEvaluator-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ModelEvaluator</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `ModelEvaluator$compare_performance`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Start of environment setup code</span></span></span>
<span class="r-in"><span><span class="co"># The level of detail in the information messages</span></span></span>
<span class="r-in"><span><span class="va">ve</span> <span class="op">&lt;-</span> <span class="fl">0</span></span></span>
<span class="r-in"><span><span class="co"># The name of the folder that will contain all the files. It will be</span></span></span>
<span class="r-in"><span><span class="co"># created in the current directory. NULL implies tempdir will be</span></span></span>
<span class="r-in"><span><span class="co"># used.</span></span></span>
<span class="r-in"><span><span class="va">fn</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="co"># The required files. They are default files that are part of the</span></span></span>
<span class="r-in"><span><span class="co"># package</span></span></span>
<span class="r-in"><span><span class="va">rf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"def-model.RDS"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># An object of class EnvManager is created</span></span></span>
<span class="r-in"><span><span class="va">em</span> <span class="op">&lt;-</span> <span class="va"><a href="EnvManager.html">EnvManager</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>ve <span class="op">=</span> <span class="va">ve</span>, rp <span class="op">=</span> <span class="st">"./"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The required files are downloaded</span></span></span>
<span class="r-in"><span><span class="va">ed</span> <span class="op">&lt;-</span> <span class="va">em</span><span class="op">$</span><span class="fu">setup_env</span><span class="op">(</span><span class="va">rf</span>, <span class="va">fn</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># End of environment setup code</span></span></span>
<span class="r-in"><span><span class="co"># ModelEvaluator class object is created</span></span></span>
<span class="r-in"><span><span class="va">me</span> <span class="op">&lt;-</span> <span class="va">ModelEvaluator</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>ve <span class="op">=</span> <span class="va">ve</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The performance evaluation is performed</span></span></span>
<span class="r-in"><span><span class="va">me</span><span class="op">$</span><span class="fu">compare_performance</span><span class="op">(</span>opts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"save_to"</span> <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>    <span class="st">"dir"</span> <span class="op">=</span> <span class="va">ed</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="ModelEvaluator-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The test environment is removed. Comment the below line, so the</span></span></span>
<span class="r-in"><span><span class="co"># files generated by the function can be viewed</span></span></span>
<span class="r-in"><span><span class="va">em</span><span class="op">$</span><span class="fu">td_env</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `ModelEvaluator$evaluate_performance`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Start of environment setup code</span></span></span>
<span class="r-in"><span><span class="co"># The level of detail in the information messages</span></span></span>
<span class="r-in"><span><span class="va">ve</span> <span class="op">&lt;-</span> <span class="fl">0</span></span></span>
<span class="r-in"><span><span class="co"># The name of the folder that will contain all the files. It will be</span></span></span>
<span class="r-in"><span><span class="co"># created in the current directory. NULL implies tempdir will be used</span></span></span>
<span class="r-in"><span><span class="va">fn</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="co"># The required files. They are default files that are part of the</span></span></span>
<span class="r-in"><span><span class="co"># package</span></span></span>
<span class="r-in"><span><span class="va">rf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"def-model.RDS"</span>, <span class="st">"validate-clean.txt"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># An object of class EnvManager is created</span></span></span>
<span class="r-in"><span><span class="va">em</span> <span class="op">&lt;-</span> <span class="va"><a href="EnvManager.html">EnvManager</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>ve <span class="op">=</span> <span class="va">ve</span>, rp <span class="op">=</span> <span class="st">"./"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The required files are downloaded</span></span></span>
<span class="r-in"><span><span class="va">ed</span> <span class="op">&lt;-</span> <span class="va">em</span><span class="op">$</span><span class="fu">setup_env</span><span class="op">(</span><span class="va">rf</span>, <span class="va">fn</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># End of environment setup code</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The model file name</span></span></span>
<span class="r-in"><span><span class="va">mfn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">ed</span>, <span class="st">"/def-model.RDS"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The validation file name</span></span></span>
<span class="r-in"><span><span class="va">vfn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">ed</span>, <span class="st">"/validate-clean.txt"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ModelEvaluator class object is created</span></span></span>
<span class="r-in"><span><span class="va">me</span> <span class="op">&lt;-</span> <span class="va">ModelEvaluator</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>mf <span class="op">=</span> <span class="va">mfn</span>, ve <span class="op">=</span> <span class="va">ve</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The performance evaluation is performed</span></span></span>
<span class="r-in"><span><span class="va">stats</span> <span class="op">&lt;-</span> <span class="va">me</span><span class="op">$</span><span class="fu">evaluate_performance</span><span class="op">(</span>lc <span class="op">=</span> <span class="fl">20</span>, fn <span class="op">=</span> <span class="va">vfn</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The evaluation stats are printed</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">stats</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $m</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 279320</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $t</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.111</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2297.35</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The test environment is removed. Comment the below line, so the</span></span></span>
<span class="r-in"><span><span class="co"># files generated by the function can be viewed</span></span></span>
<span class="r-in"><span><span class="va">em</span><span class="op">$</span><span class="fu">td_env</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `ModelEvaluator$intrinsic_evaluation`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Start of environment setup code</span></span></span>
<span class="r-in"><span><span class="co"># The level of detail in the information messages</span></span></span>
<span class="r-in"><span><span class="va">ve</span> <span class="op">&lt;-</span> <span class="fl">0</span></span></span>
<span class="r-in"><span><span class="co"># The name of the folder that will contain all the files. It will be</span></span></span>
<span class="r-in"><span><span class="co"># created in the current directory. NULL implies tempdir will be used</span></span></span>
<span class="r-in"><span><span class="va">fn</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="co"># The required files. They are default files that are part of the</span></span></span>
<span class="r-in"><span><span class="co"># package</span></span></span>
<span class="r-in"><span><span class="va">rf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"def-model.RDS"</span>, <span class="st">"validate-clean.txt"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># An object of class EnvManager is created</span></span></span>
<span class="r-in"><span><span class="va">em</span> <span class="op">&lt;-</span> <span class="va"><a href="EnvManager.html">EnvManager</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>ve <span class="op">=</span> <span class="va">ve</span>, rp <span class="op">=</span> <span class="st">"./"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The required files are downloaded</span></span></span>
<span class="r-in"><span><span class="va">ed</span> <span class="op">&lt;-</span> <span class="va">em</span><span class="op">$</span><span class="fu">setup_env</span><span class="op">(</span><span class="va">rf</span>, <span class="va">fn</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># End of environment setup code</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The model file name</span></span></span>
<span class="r-in"><span><span class="va">mfn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">ed</span>, <span class="st">"/def-model.RDS"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The validation file name</span></span></span>
<span class="r-in"><span><span class="va">vfn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">ed</span>, <span class="st">"/validate-clean.txt"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ModelEvaluator class object is created</span></span></span>
<span class="r-in"><span><span class="va">me</span> <span class="op">&lt;-</span> <span class="va">ModelEvaluator</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>mf <span class="op">=</span> <span class="va">mfn</span>, ve <span class="op">=</span> <span class="va">ve</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The intrinsic evaluation is performed</span></span></span>
<span class="r-in"><span><span class="va">stats</span> <span class="op">&lt;-</span> <span class="va">me</span><span class="op">$</span><span class="fu">intrinsic_evaluation</span><span class="op">(</span>lc <span class="op">=</span> <span class="fl">20</span>, fn <span class="op">=</span> <span class="va">vfn</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The evaluation stats are printed</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">stats</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $min</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 282</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $max</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 8248</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $mean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2297.35</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The test environment is removed. Comment the below line, so the</span></span></span>
<span class="r-in"><span><span class="co"># files generated by the function can be viewed</span></span></span>
<span class="r-in"><span><span class="va">em</span><span class="op">$</span><span class="fu">td_env</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `ModelEvaluator$extrinsic_evaluation`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Start of environment setup code</span></span></span>
<span class="r-in"><span><span class="co"># The level of detail in the information messages</span></span></span>
<span class="r-in"><span><span class="va">ve</span> <span class="op">&lt;-</span> <span class="fl">0</span></span></span>
<span class="r-in"><span><span class="co"># The name of the folder that will contain all the files. It will be</span></span></span>
<span class="r-in"><span><span class="co"># created in the current directory. NULL implies tempdir will be used</span></span></span>
<span class="r-in"><span><span class="va">fn</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="co"># The required files. They are default files that are part of the</span></span></span>
<span class="r-in"><span><span class="co"># package</span></span></span>
<span class="r-in"><span><span class="va">rf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"def-model.RDS"</span>, <span class="st">"validate-clean.txt"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># An object of class EnvManager is created</span></span></span>
<span class="r-in"><span><span class="va">em</span> <span class="op">&lt;-</span> <span class="va"><a href="EnvManager.html">EnvManager</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>ve <span class="op">=</span> <span class="va">ve</span>, rp <span class="op">=</span> <span class="st">"./"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The required files are downloaded</span></span></span>
<span class="r-in"><span><span class="va">ed</span> <span class="op">&lt;-</span> <span class="va">em</span><span class="op">$</span><span class="fu">setup_env</span><span class="op">(</span><span class="va">rf</span>, <span class="va">fn</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># End of environment setup code</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The model file name</span></span></span>
<span class="r-in"><span><span class="va">mfn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">ed</span>, <span class="st">"/def-model.RDS"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The validation file name</span></span></span>
<span class="r-in"><span><span class="va">vfn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">ed</span>, <span class="st">"/validate-clean.txt"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ModelEvaluator class object is created</span></span></span>
<span class="r-in"><span><span class="va">me</span> <span class="op">&lt;-</span> <span class="va">ModelEvaluator</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>mf <span class="op">=</span> <span class="va">mfn</span>, ve <span class="op">=</span> <span class="va">ve</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The intrinsic evaluation is performed</span></span></span>
<span class="r-in"><span><span class="va">stats</span> <span class="op">&lt;-</span> <span class="va">me</span><span class="op">$</span><span class="fu">extrinsic_evaluation</span><span class="op">(</span>lc <span class="op">=</span> <span class="fl">100</span>, fn <span class="op">=</span> <span class="va">vfn</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The evaluation stats are printed</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">stats</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $valid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $invalid</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 74</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $valid_perc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.333333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $invalid_perc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 98.66667</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The test environment is removed. Comment the below line, so the</span></span></span>
<span class="r-in"><span><span class="co"># files generated by the function can be viewed</span></span></span>
<span class="r-in"><span><span class="va">em</span><span class="op">$</span><span class="fu">td_env</span><span class="op">(</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nadir Latif.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

